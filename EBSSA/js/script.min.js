const header=document.querySelector(".b-header"),burger=document.querySelector(".b-burger"),menu=document.querySelector(".b-header__nav");burger.addEventListener("click",(()=>{menu.classList.add("block"),setTimeout((()=>{header.classList.toggle("toggle"),document.body.classList.toggle("stop-scroll"),header.classList.contains("toggle")||setTimeout((()=>{menu.classList.toggle("block")}),400)}),50)}));const tabContainer=document.querySelectorAll("[data-tab]");for(let e of tabContainer){const t=e.querySelectorAll("[data-tab-button]"),o=e.querySelectorAll("[data-tab-content]");function cleanActiveBtn(){t.forEach((e=>e.classList.remove("active")))}function hideTabs(){o.forEach((e=>e.classList.remove("active")))}t.forEach((e=>{e.addEventListener("click",(e=>{cleanActiveBtn(),e.currentTarget.classList.add("active");const t=e.currentTarget.getAttribute("data-tab-button");hideTabs(),document.querySelector(`[data-tab-content="${t}"]`).classList.add("active")}))}))}const videos=document.querySelectorAll(".b-video");let generateUrl=function(e){return"https://www.youtube.com/embed/"+e+"?rel=0&showinfo=0&autoplay=1"},createIframe=function(e){let t=document.createElement("iframe");return t.setAttribute("allowfullscreen",""),t.setAttribute("allow","autoplay; encrypted-media"),t.setAttribute("src",generateUrl(e)),t};videos.forEach((e=>{let t=e.getAttribute("data-video"),o="https://youtu.be/".length,s=t.substring(o,t.length),i=e.querySelector("img"),n="https://i.ytimg.com/vi/"+s+"/maxresdefault.jpg";i.setAttribute("src",n),e.addEventListener("click",(t=>{t.preventDefault();let o=createIframe(s);e.querySelector("img").remove(),e.appendChild(o),e.querySelector("button").remove()}))}));const accordeonBtn=document.querySelectorAll("[data-accordeon-btn]"),accordeonContent=document.querySelectorAll("[data-accordeon-content]");accordeonBtn.forEach((e=>{e.addEventListener("click",(t=>{if(e.classList.contains("active"))e.classList.contains("active")&&(i(),s());else{i(),e.classList.add("active");const n=t.currentTarget.getAttribute("data-accordeon-btn");s();let a=document.querySelector(`[data-accordeon-content="${n}"]`);var o=a.firstElementChild.scrollHeight;a.style.height=`calc(${o}px + 10.6vw)`,a.classList.add("active")}function s(){accordeonContent.forEach((e=>{e.style.height="0",e.classList.remove("active")}))}function i(){accordeonBtn.forEach((e=>{e.classList.remove("active")}))}}))}));const orders=document.querySelectorAll(".b-order__row:not(.b-order__row_title)");for(let e of orders){function ordersClear(){for(let e of orders)e.classList.remove("current-order")}e.addEventListener("click",(()=>{ordersClear(),e.classList.add("current-order")}))}class GraphModal{constructor(e){this.options=Object.assign({isOpen:()=>{},isClose:()=>{}},e),this.modal=document.querySelector(".modal"),this.speed=300,this.animation="fade",this._reOpen=!1,this._nextContainer=!1,this.modalContainer=!1,this.isOpen=!1,this.previousActiveElement=!1,this._focusElements=["a[href]","input","select","textarea","button","iframe","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],this._fixBlocks=document.querySelectorAll(".fix-block"),this.events()}events(){this.modal&&(document.addEventListener("click",function(e){const t=e.target.closest("[data-graph-path]");if(t){let e=t.dataset.graphPath,o=t.dataset.graphAnimation,s=t.dataset.graphSpeed;return this.animation=o||"fade",this.speed=s?parseInt(s):300,this._nextContainer=document.querySelector(`[data-graph-target="${e}"]`),void this.open()}e.target.closest(".modal__close")&&this.close()}.bind(this)),window.addEventListener("keydown",function(e){27==e.keyCode&&this.isOpen&&this.close(),9==e.which&&this.isOpen&&this.focusCatch(e)}.bind(this)),document.addEventListener("click",function(e){e.target.classList.contains("modal")&&e.target.classList.contains("is-open")&&this.close()}.bind(this)))}open(e){if(this.previousActiveElement=document.activeElement,this.isOpen)return this.reOpen=!0,void this.close();this.modalContainer=this._nextContainer,e&&(this.modalContainer=document.querySelector(`[data-graph-target="${e}"]`)),this.modal.style.setProperty("--transition-time",this.speed/1e3+"s"),this.modal.classList.add("is-open"),document.body.style.scrollBehavior="auto",document.documentElement.style.scrollBehavior="auto",this.disableScroll(),this.modalContainer.classList.add("modal-open"),this.modalContainer.classList.add(this.animation),setTimeout((()=>{this.options.isOpen(this),this.modalContainer.classList.add("animate-open"),this.isOpen=!0,this.focusTrap()}),this.speed)}close(){this.modalContainer&&(this.modalContainer.classList.remove("animate-open"),this.modalContainer.classList.remove(this.animation),this.modal.classList.remove("is-open"),this.modalContainer.classList.remove("modal-open"),this.enableScroll(),document.body.style.scrollBehavior="auto",document.documentElement.style.scrollBehavior="auto",this.options.isClose(this),this.isOpen=!1,this.focusTrap(),this.reOpen&&(this.reOpen=!1,this.open()))}focusCatch(e){const t=this.modalContainer.querySelectorAll(this._focusElements),o=Array.prototype.slice.call(t),s=o.indexOf(document.activeElement);e.shiftKey&&0===s&&(o[o.length-1].focus(),e.preventDefault()),e.shiftKey||s!==o.length-1||(o[0].focus(),e.preventDefault())}focusTrap(){const e=this.modalContainer.querySelectorAll(this._focusElements);this.isOpen?e.length&&e[0].focus():this.previousActiveElement.focus()}disableScroll(){let e=window.scrollY;this.lockPadding(),document.body.classList.add("disable-scroll"),document.body.dataset.position=e,document.body.style.top=-e+"px"}enableScroll(){let e=parseInt(document.body.dataset.position,10);this.unlockPadding(),document.body.style.top="auto",document.body.classList.remove("disable-scroll"),window.scroll({top:e,left:0}),document.body.removeAttribute("data-position")}lockPadding(){let e=window.innerWidth-document.body.offsetWidth+"px";this._fixBlocks.forEach((t=>{t.style.paddingRight=e})),document.body.style.paddingRight=e}unlockPadding(){this._fixBlocks.forEach((e=>{e.style.paddingRight="0px"})),document.body.style.paddingRight="0px"}}const modal=new GraphModal;var swiper=new Swiper(".b-slider__wrapper",{slidesPerView:1.1,spaceBetween:20,breakpoints:{420:{slidesPerView:1.3},520:{slidesPerView:2},760:{spaceBetween:40}},navigation:{nextEl:".b-btns-slider__btn_next",prevEl:".b-btns-slider__btn_prev"}});